{"version":3,"sources":["gif/main.js"],"names":["canvas","fabric","Canvas","preserveObjectStacking","debugTool","cornerSize","padding","transparentCorners","cornerStyle","cornerColor","borderColor","Image","fromURL","oImg","insertAt","set","scaleX","scaleY","top","left","text","Text","fill","scale","downloadit","download","toDataURL","debug","activedObj","getActiveObject","console","log","angle","$","listener","window","keypress","Listener","register_combo","simple_combo","deleteObj","remove"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAC,IAAIA,SAAS,IAAIC,OAAOC,MAAX,CAAkB,UAAlB,EAA6B;AACzC;AACAC,yBAAwB;AAFiB,CAA7B,CAAb;;AAKA,IAAMC,YAAY;AACjBC,aAAY,EADK;AAEjBC,UAAS,CAFQ;AAGjBC,qBAAoB,IAHH;AAIjBC,cAAa,QAJI;AAKjBC,cAAa,KALI;AAMjBC,cAAa,KANI,EAAlB;;AAQAT,OAAOU,KAAP,CAAaC,OAAb,CAAqB,YAArB,EAAkC,UAASC,IAAT,EAAe;AAChDb,QAAOc,QAAP,CAAgBD,IAAhB,EAAqB,CAArB;AACAA,MAAKE,GAAL,CAAS;AACRC,UAAO,GADC;AAERC,UAAO,GAFC;AAGRC,OAAK,EAHG;AAIRC,QAAK;AAJG,EAAT,EAKGJ,GALH,CAKOX,SALP;AAMA,CARD;AASA,IAAMgB,OAAO,IAAInB,OAAOoB,IAAX,CAAgB,sBAAhB;AACZF,OAAM,GADM;AAEZD,MAAK,GAFO;AAGZI,OAAK,OAHO;AAIZC,QAAO;AAJK,WAKN,EALM,GAMVR,GANU,CAMNX,SANM,CAAb;AAOAJ,OAAOc,QAAP,CAAgBM,IAAhB,EAAqB,CAArB;AACA,SAASI,UAAT,GAAsB;AACrB;AACAC,UAASzB,OAAO0B,SAAP,CAAiB,KAAjB,CAAT,EAAiC,YAAjC,EAA8C,WAA9C;AACA;AACD,SAASC,KAAT,GAAiB;AAChB,KAAMC,aAAa5B,OAAO6B,eAAP,EAAnB;AACAC,SAAQC,GAAR,cAAuBH,WAAWI,KAAlC;AACAF,SAAQC,GAAR,eAAwBH,WAAWZ,MAAnC;AACAc,SAAQC,GAAR,eAAwBH,WAAWX,MAAnC;AACAa,SAAQC,GAAR,YAAqBH,WAAWV,GAAhC;AACAY,SAAQC,GAAR,aAAsBH,WAAWT,IAAjC;AAEA;AACDc,EAAE,YAAU;AACX,KAAIC,WAAW,IAAIC,OAAOC,QAAP,CAAgBC,QAApB,EAAf;AACAH,UAASI,cAAT,CAAwB;AACb,qBAAmB;AADN,EAAxB;AAGAJ,UAASK,YAAT,CAAsB,OAAtB,EAA8B,YAAI;;AAEjC,MAAMC,YAAYxC,OAAO6B,eAAP,EAAlB;AACA,MAAIW,SAAJ,EAAe;AACdxC,UAAOyC,MAAP,CAAcD,SAAd;AACA;AACD,EAND;AAOA,CAZD","file":"main.7defe4e7.map","sourceRoot":"../..","sourcesContent":["\tvar canvas = new fabric.Canvas('myAvatar',{\n\t\t//actived 的图片是否永远在最上面\n\t\tpreserveObjectStacking: true\n\t});\n\n\tconst debugTool = {\n\t\tcornerSize: 10,\n\t\tpadding: 5 ,\n\t\ttransparentCorners: true,\n\t\tcornerStyle: 'circle',\n\t\tcornerColor: 'red',\n\t\tborderColor: 'red'}\n\n\tfabric.Image.fromURL('avatar.png',function(oImg) {\n\t\tcanvas.insertAt(oImg,0);\n\t\toImg.set({\n\t\t\tscaleX:0.6,\n\t\t\tscaleY:0.6,\n\t\t\ttop: 80,\n\t\t\tleft:40\n\t\t}).set(debugTool);\n\t});\n\tconst text = new fabric.Text('boring cookie no eat',{\n\t\tleft: 100,\n\t\ttop: 100,\n\t\tfill:'white',\n\t\tscale: 0.6,\n\t\tleft: 70,\n\t}).set(debugTool);\n\tcanvas.insertAt(text,1);\n\tfunction downloadit() {\n\t\t//console.log(canvas.toDataURL('png'));//data:image/png;base64,iVBORw0KGg.....\n\t\tdownload(canvas.toDataURL('png'),\"avatar.png\",\"image/png\");\n\t};\n\tfunction debug() {\n\t\tconst activedObj = canvas.getActiveObject();\n\t\tconsole.log(`angle = ${activedObj.angle}`);\n\t\tconsole.log(`scaleX = ${activedObj.scaleX}`);\n\t\tconsole.log(`scaleY = ${activedObj.scaleY}`);\n\t\tconsole.log(`top = ${activedObj.top}`);\n\t\tconsole.log(`left = ${activedObj.left}`);\n\n\t};\n\t$(function(){\n\t\tvar listener = new window.keypress.Listener();\n\t\tlistener.register_combo({\n             \"prevent_default\": true\n\t\t});\n\t\tlistener.simple_combo(\"cmd s\",()=>{\n  \n\t\t\tconst deleteObj = canvas.getActiveObject();\n\t\t\tif (deleteObj) {\n\t\t\t\tcanvas.remove(deleteObj);\n\t\t\t}\n\t\t})\n\t});"]}